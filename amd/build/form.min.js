/**
 * blocks/ungraded_activities.php
 *
 * @module     block_ungraded_activities
 * @copyright  2021 Gordon Bateson (gordon.bateson@gmail.com)
 * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 * @since      Moodle 2.9
 */
define("block_ungraded_activities/form",["core/str"],(function(STR){var JS={plugin:"block_ungraded_activities",str:{},init:function(){STR.get_strings([{key:"deselectall",component:"moodle"},{key:"selectall",component:"moodle"},{key:"apply",component:JS.plugin},{key:"exportsettings",component:JS.plugin},{key:"importsettings",component:JS.plugin}]).done((function(s){var i=0;JS.str.deselectall=s[i++],JS.str.selectall=s[i++],JS.str.apply=s[i++],JS.str.exportsettings=s[i++],JS.str.importsettings=s[i++];JS.add_itemselect_checkboxes("#id_title, #id_activities, #id_users, #id_date, #id_applyselectedvalues")}))},add_itemselect_checkboxes:function(fieldsets){var smallviewport=Math.max(document.documentElement.clientWidth,window.innerWidth||0)<992,mycourses=document.querySelector("select[name^=config_mycourses]");document.querySelectorAll(fieldsets).forEach((function(fieldset){fieldset.querySelectorAll(".row.fitem .col-md-9").forEach((function(elm,i){mycourses&&JS.add_itemselect_checkbox(elm,i,smallviewport),elm.parentNode.matches(":nth-child(odd)")&&elm.parentNode.classList.add("bg-light")}))}))},add_itemselect_checkbox:function(elm,i,smallviewport){var div=document.createElement("DIV"),node=null,name=elm.parentNode.id;if("description"==(name=name.replace(new RegExp("^.+_"),""))){elm.classList.remove("col-md-9"),elm.classList.add("col-7"),div.classList.add("col-5"),div.classList.add("col-md-2"),div.classList.add("px-0"),div.classList.add("text-right"),(node=elm.querySelector(".exportsettings"))&&div.appendChild(node),(node=elm.querySelector(".importsettings"))&&div.appendChild(node);var input=document.createElement("INPUT");input.setAttribute("type","checkbox"),input.setAttribute("name","select_all"),input.setAttribute("id","id_select_all"),input.classList.add("ml-2"),input.addEventListener?input.addEventListener("change",JS.onchange_selectall,!1):input.attachEvent&&input.attachEvent("onchange",JS.onchange_selectall);var label=document.createElement("LABEL");label.setAttribute("for","id_select_all"),label.classList.add("d-inline"),label.innerText=JS.str.selectall,(node=document.createElement("DIV")).classList.add("bg-secondary"),(0==i||smallviewport)&&node.classList.add("border-top"),node.classList.add("border-bottom"),node.classList.add("border-dark"),node.classList.add("w-100"),node.classList.add("py-1"),node.classList.add("text-right"),node.style.paddingRight=smallviewport?"24px":"35px",node.classList.add("itemselect"),node.appendChild(label),node.appendChild(input),div.appendChild(node)}else elm.classList.remove("col-md-9"),elm.classList.add("col-10"),elm.classList.add("col-md-8"),div.classList.add("col-2"),div.classList.add("col-md-1"),div.classList.add("bg-secondary"),(0==i||smallviewport)&&div.classList.add("border-top"),div.classList.add("border-bottom"),div.classList.add("border-dark"),div.classList.add("px-0"),div.classList.add("py-1"),div.classList.add("text-center"),div.classList.add("itemselect"),node=document.createElement("INPUT"),"mycourses"==name?(node.setAttribute("type","submit"),node.setAttribute("value",JS.str.apply),node.classList.add("btn"),node.classList.add("btn-primary"),node.classList.add("my-1"),node.classList.add("px-2")):(node.setAttribute("type","checkbox"),node.setAttribute("name","select_"+name),node.setAttribute("id","id_select_"+name),node.classList.add("mt-2")),div.appendChild(node);elm.parentNode.insertBefore(div,elm.nextSibling)},onchange_selectall:function(){var checked=this.checked,label=this.parentNode.querySelector("label");label&&(label.innerText=checked?JS.str.deselectall:JS.str.selectall);var s=".itemselect input[type=checkbox]:not([name="+this.name+"])";document.querySelectorAll(s).forEach((function(checkbox){checkbox.checked=checked}))}};return JS}));

//# sourceMappingURL=form.min.js.map